{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/kalash/Desktop/React%20Projects/fyntra/frontend/components/StockChart/Skeleton.tsx"],"sourcesContent":["export default function Skeleton() {\n  return (\n    <div className=\"animate-pulse h-[400px] w-full bg-gray-100 rounded-lg flex items-center justify-center\">\n      <div className=\"space-y-2 text-center\">\n        <div className=\"h-4 w-32 bg-gray-300 rounded mx-auto\"></div>\n        <p className=\"text-gray-400 text-sm\">Loading chart data...</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAI7C;KATwB","debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/kalash/Desktop/React%20Projects/fyntra/frontend/components/StockChart/StockChart.tsx"],"sourcesContent":["import { Line } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  LineElement,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  ChartOptions,\n} from \"chart.js\";\nimport Skeleton from \"./Skeleton\";\n\nChartJS.register(\n  Title,\n  Tooltip,\n  Legend,\n  LineElement,\n  CategoryScale,\n  LinearScale,\n  PointElement\n);\n\ninterface ChartData {\n  labels: string[];\n  datasets: {\n    label: string;\n    data: number[];\n    borderColor: string;\n    backgroundColor: string;\n    borderWidth?: number;\n    fill?: boolean;\n    tension?: number;\n  }[];\n}\n\ninterface StockChartProps {\n  data: ChartData | null;\n  error?: string | null;\n}\n\nconst StockChart: React.FC<StockChartProps> = ({ data, error }) => {\n  if (error) {\n    return (\n      <div className=\"bg-red-50 p-4 rounded-lg text-red-600\">\n        Chart Error: {error}\n      </div>\n    );\n  }\n\n  if (!data) {\n    return <Skeleton />;\n  }\n\n  const options: ChartOptions<\"line\"> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      title: {\n        display: true,\n        text: \"Stock Price Over Time\",\n        font: {\n          size: 16,\n          weight: \"bold\",\n        },\n        padding: { top: 10, bottom: 20 },\n      },\n      tooltip: {\n        mode: \"index\",\n        intersect: false,\n        callbacks: {\n          label: (context) => {\n            return `${context.dataset.label}: $${context.parsed.y.toFixed(2)}`;\n          },\n        },\n      },\n      legend: {\n        position: \"top\" as const,\n        labels: {\n          boxWidth: 12,\n          padding: 20,\n        },\n      },\n    },\n    scales: {\n      x: {\n        grid: {\n          display: false,\n        },\n        ticks: {\n          maxRotation: 0,\n          autoSkip: true,\n          maxTicksLimit: 10,\n        },\n      },\n      y: {\n        beginAtZero: false,\n        ticks: {\n          callback: (value) => `$${value}`,\n        },\n        grid: {\n          color: \"rgba(0, 0, 0, 0.05)\",\n        },\n      },\n    },\n    interaction: {\n      mode: \"nearest\",\n      axis: \"x\",\n      intersect: false,\n    },\n  };\n\n  return (\n    <div className=\"h-[400px] w-full\">\n      <Line data={data} options={options} redraw={true} />\n    </div>\n  );\n};\n\nexport default StockChart;\n"],"names":[],"mappings":";;;;AAAA;AACA;AAWA;;;;;AAEA,+JAAA,CAAA,QAAO,CAAC,QAAQ,CACd,+JAAA,CAAA,QAAK,EACL,+JAAA,CAAA,UAAO,EACP,+JAAA,CAAA,SAAM,EACN,+JAAA,CAAA,cAAW,EACX,+JAAA,CAAA,gBAAa,EACb,+JAAA,CAAA,cAAW,EACX,+JAAA,CAAA,eAAY;AAqBd,MAAM,aAAwC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE;IAC5D,IAAI,OAAO;QACT,qBACE,6LAAC;YAAI,WAAU;;gBAAwC;gBACvC;;;;;;;IAGpB;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,6LAAC,wIAAA,CAAA,UAAQ;;;;;IAClB;IAEA,MAAM,UAAgC;QACpC,YAAY;QACZ,qBAAqB;QACrB,SAAS;YACP,OAAO;gBACL,SAAS;gBACT,MAAM;gBACN,MAAM;oBACJ,MAAM;oBACN,QAAQ;gBACV;gBACA,SAAS;oBAAE,KAAK;oBAAI,QAAQ;gBAAG;YACjC;YACA,SAAS;gBACP,MAAM;gBACN,WAAW;gBACX,WAAW;oBACT,OAAO,CAAC;wBACN,OAAO,GAAG,QAAQ,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,QAAQ,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI;oBACpE;gBACF;YACF;YACA,QAAQ;gBACN,UAAU;gBACV,QAAQ;oBACN,UAAU;oBACV,SAAS;gBACX;YACF;QACF;QACA,QAAQ;YACN,GAAG;gBACD,MAAM;oBACJ,SAAS;gBACX;gBACA,OAAO;oBACL,aAAa;oBACb,UAAU;oBACV,eAAe;gBACjB;YACF;YACA,GAAG;gBACD,aAAa;gBACb,OAAO;oBACL,UAAU,CAAC,QAAU,CAAC,CAAC,EAAE,OAAO;gBAClC;gBACA,MAAM;oBACJ,OAAO;gBACT;YACF;QACF;QACA,aAAa;YACX,MAAM;YACN,MAAM;YACN,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,yJAAA,CAAA,OAAI;YAAC,MAAM;YAAM,SAAS;YAAS,QAAQ;;;;;;;;;;;AAGlD;KA5EM;uCA8ES","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///Users/kalash/Desktop/React%20Projects/fyntra/frontend/app/dashboards/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport StockChart from \"@/components/StockChart/StockChart\";\nimport axios from \"axios\";\nimport { ChartData } from \"chart.js\";\n\nconst API_KEY = process.env.NEXT_PUBLIC_ALPHA_VANTAGE_API_KEY;\n\ninterface AlphaVantageResponse {\n  \"Time Series (Daily)\"?: {\n    [date: string]: {\n      \"4. close\": string;\n    };\n  };\n  \"Error Message\"?: string;\n  Note?: string;\n}\n\nconst Dashboard = () => {\n  const [stockData, setStockData] = useState<ChartData | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [stockSymbol, setStockSymbol] = useState(\"IBM\");\n  const [searchInput, setSearchInput] = useState(\"IBM\");\n\n  const fetchStockData = async (symbol: string, retryCount = 0) => {\n    if (!symbol.trim()) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await axios.get<AlphaVantageResponse>(\n        `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${symbol}&apikey=${API_KEY}`\n      );\n\n      // Handle API rate limiting\n      if (response.data.Note) {\n        if (retryCount < 3) {\n          await new Promise((resolve) =>\n            setTimeout(resolve, 1000 * (retryCount + 1))\n          );\n          return fetchStockData(symbol, retryCount + 1);\n        }\n        throw new Error(\"API rate limit reached. Please try again later.\");\n      }\n\n      // Handle explicit API errors\n      if (response.data[\"Error Message\"]) {\n        throw new Error(response.data[\"Error Message\"]);\n      }\n\n      const timeSeries = response.data[\"Time Series (Daily)\"];\n\n      if (!timeSeries) {\n        throw new Error(\"No time series data found in response\");\n      }\n\n      const dates = Object.keys(timeSeries).slice(0, 30).reverse();\n      const prices = dates.map((date) =>\n        parseFloat(timeSeries[date][\"4. close\"])\n      );\n\n      if (prices.length === 0) {\n        throw new Error(\"No price data available\");\n      }\n\n      const chartData: ChartData = {\n        labels: dates,\n        datasets: [\n          {\n            label: `${symbol.toUpperCase()} Stock Price (USD)`,\n            data: prices,\n            borderColor: \"#0057FF\",\n            backgroundColor: \"rgba(0, 87, 255, 0.1)\",\n            borderWidth: 2,\n            fill: true,\n            tension: 0.3,\n          },\n        ],\n      };\n\n      setStockData(chartData);\n      setStockSymbol(symbol.toUpperCase());\n    } catch (err) {\n      const errorMessage =\n        err.response?.data?.[\"Error Message\"] ||\n        err.response?.data?.Note ||\n        err.message;\n      setError(errorMessage || \"Failed to fetch stock data\");\n      console.error(\"API Error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchInput.trim() && !loading) {\n      fetchStockData(searchInput.trim());\n    }\n  };\n\n  useEffect(() => {\n    fetchStockData(stockSymbol);\n  }, []);\n\n  return (\n    <div className=\"bg-[#F9FAFB] px-4 py-8 max-w-6xl mx-auto\">\n      <h2 className=\"text-3xl font-bold mb-6 text-[#0A2540]\">\n        ðŸ“Š Stock Dashboard\n      </h2>\n\n      <form onSubmit={handleSearch} className=\"mb-8 flex gap-2 items-center\">\n        <input\n          type=\"text\"\n          value={searchInput}\n          onChange={(e) => setSearchInput(e.target.value)}\n          placeholder=\"e.g. AAPL, TSLA, MSFT\"\n          className=\"px-4 py-2 border border-[#E6EBF2] bg-white text-[#0A2540] rounded-lg shadow-sm flex-1 max-w-md focus:outline-none focus:ring-2 focus:ring-[#0057FF]\"\n          disabled={loading}\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-[#0057FF] text-white px-6 py-2 rounded-lg hover:bg-[#0040CC]transition disabled:opacity-50\"\n          disabled={loading || !searchInput.trim()}\n        >\n          {loading ? \"Searching...\" : \"Search\"}\n        </button>\n      </form>\n\n      <div className=\"bg-white rounded-xl shadow-md border border-[#E6EBF2] p-4 min-h-[400px]\">\n        {loading ? (\n          <div className=\"flex items-center justify-center h-full\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n          </div>\n        ) : error ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-red-500 font-medium mb-2\">{error}</p>\n            <button\n              onClick={() => fetchStockData(stockSymbol)}\n              className=\"text-blue-600 hover:underline\"\n            >\n              Retry\n            </button>\n          </div>\n        ) : stockData ? (\n          <>\n            <div className=\"mb-4\">\n              <h3 className=\"text-xl font-semibold text-[#0A2540]\">\n                {stockSymbol} - Last 30 Days\n              </h3>\n              <p className=\"text-[#6B7C93] text-sm\">\n                Daily closing prices (USD)\n              </p>\n            </div>\n            <StockChart data={stockData} />\n          </>\n        ) : (\n          <div className=\"flex items-center justify-center h-full text-gray-500\">\n            No data to display\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"names":[],"mappings":"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","debugId":null}}]
}